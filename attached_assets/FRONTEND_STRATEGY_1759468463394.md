# Frontend Development Strategy
**ÌîÑÎ°úÏ†ùÌä∏**: ÎÑ§Ïù¥Î≤Ñ Î∏îÎ°úÍ∑∏ Ïä§ÎßàÌä∏Î∏îÎ°ù ÏàúÏúÑ Ï∂îÏ†Å ÏãúÏä§ÌÖú
**Î≤ÑÏ†Ñ**: 1.0
**ÏûëÏÑ±Ïùº**: 2025-01-03
**ÏÉÅÌÉú**: Phase 2 - Frontend Implementation

---

## üìã Executive Summary

### Í∞úÎ∞ú Ï†ÑÎûµ
- **MCP ÌôúÏö©**: Magic MCP (UI ÏÉùÏÑ±) + Playwright MCP (Ïã§ÏãúÍ∞Ñ ÎîîÎ≤ÑÍπÖ)
- **Î≥ëÎ†¨ Í∞úÎ∞ú**: Multi-agent ÎèôÏãú ÏûëÏóÖÏúºÎ°ú Í∞úÎ∞ú ÏÜçÎèÑ 3Î∞∞ Ìñ•ÏÉÅ
- **Ïã§ÏãúÍ∞Ñ Í≤ÄÏ¶ù**: Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ï¶âÏãú ÌôïÏù∏ÌïòÎ©∞ Î∞òÎ≥µ Í∞úÏÑ†

### Í∏∞Ïà† Ïä§ÌÉù ÌôïÏ†ï
```yaml
Framework: Next.js 14.2+ (App Router)
UI Library: shadcn/ui (Radix UI + Tailwind CSS)
Styling: Tailwind CSS 3.4+
Charts: Recharts 2.12+
Real-time: Supabase Realtime WebSocket
State: Zustand 4.5+ (Ï†ÑÏó≠ ÏÉÅÌÉú)
Animation: Framer Motion 11+
Icons: Lucide React
Forms: React Hook Form + Zod
Testing: Playwright (E2E)
```

---

## üéØ Phase 2-A: Frontend Setup (1-2Ïùº)

### Day 1: ÌîÑÎ°úÏ†ùÌä∏ Ï¥àÍ∏∞Ìôî

#### 1.1 Next.js ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±
```bash
npx create-next-app@latest naver-blog-frontend \
  --typescript \
  --tailwind \
  --app \
  --src-dir \
  --import-alias "@/*"
```

**ÎîîÎ†âÌÜ†Î¶¨ Íµ¨Ï°∞**:
```
naver-blog-frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx              # Root Î†àÏù¥ÏïÑÏõÉ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                # Ìôà (Î¶¨Îã§Ïù¥Î†âÌä∏ ‚Üí /dashboard)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (dashboard)/            # ÎåÄÏãúÎ≥¥Îìú Í∑∏Î£π
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx          # Í≥µÌÜµ Î†àÏù¥ÏïÑÏõÉ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx            # Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ keywords/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ page.tsx    # ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/                    # API Routes (proxy)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ keywords/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ route.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # shadcn/ui components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ atoms/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ molecules/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ organisms/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts             # Supabase client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.ts                # Ïú†Ìã∏ Ìï®Ïàò
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants.ts            # ÏÉÅÏàò
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useKeywords.ts          # ÌÇ§ÏõåÎìú Îç∞Ïù¥ÌÑ∞ ÌõÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useRealtime.ts          # Realtime Íµ¨ÎèÖ ÌõÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useMeasurements.ts      # Ï∏°Ï†ï Îç∞Ïù¥ÌÑ∞ ÌõÖ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyword.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ measurement.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ store/
‚îÇ       ‚îî‚îÄ‚îÄ useKeywordStore.ts      # Zustand Ï†ÑÏó≠ ÏÉÅÌÉú
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ logo.svg
‚îÇ   ‚îî‚îÄ‚îÄ favicon.ico
‚îÇ
‚îú‚îÄ‚îÄ .env.local
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ tailwind.config.ts
‚îî‚îÄ‚îÄ tsconfig.json
```

#### 1.2 shadcn/ui Ï¥àÍ∏∞Ìôî
```bash
npx shadcn-ui@latest init
```

**ÏÑ§ÏπòÌï† Ïª¥Ìè¨ÎÑåÌä∏**:
```bash
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add table
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add input
npx shadcn-ui@latest add select
npx shadcn-ui@latest add toast
npx shadcn-ui@latest add skeleton
npx shadcn-ui@latest add dropdown-menu
npx shadcn-ui@latest add tabs
npx shadcn-ui@latest add slider
```

#### 1.3 ÌïÑÏàò Ìå®ÌÇ§ÏßÄ ÏÑ§Ïπò
```bash
npm install @supabase/supabase-js
npm install recharts
npm install framer-motion
npm install lucide-react
npm install zustand
npm install react-hook-form @hookform/resolvers
npm install date-fns
npm install clsx tailwind-merge
npm install react-virtuoso  # Î¨¥Ìïú Ïä§ÌÅ¨Î°§
```

**Í∞úÎ∞ú ÏùòÏ°¥ÏÑ±**:
```bash
npm install -D @playwright/test
npm install -D prettier prettier-plugin-tailwindcss
npm install -D @types/node
```

---

## üé® Phase 2-B: UI Component Development (3-4Ïùº)

### MCP ÌôúÏö© Ï†ÑÎûµ

#### Magic MCP ÏõåÌÅ¨ÌîåÎ°úÏö∞
```yaml
Step 1: UI ÏöîÍµ¨ÏÇ¨Ìï≠ Ï†ïÏùò
  - Ïª¥Ìè¨ÎÑåÌä∏ ÏÑ§Î™Ö ÏûëÏÑ±
  - ÌïÑÏöîÌïú props Î™ÖÏãú
  - ÎîîÏûêÏù∏ Ï∞∏Í≥† Ïù¥ÎØ∏ÏßÄ/ÎßÅÌÅ¨ Ï†úÍ≥µ

Step 2: Magic MCPÎ°ú Ï¥àÏïà ÏÉùÏÑ±
  - /21 Î™ÖÎ†πÏñ¥ ÏÇ¨Ïö©
  - PandaRank Ïä§ÌÉÄÏùº ÏßÄÏ†ï
  - TypeScript + Tailwind Ï∂úÎ†•

Step 3: shadcn/ui ÌÜµÌï©
  - ÏÉùÏÑ±Îêú Ïª¥Ìè¨ÎÑåÌä∏Ïóê shadcn Ï†ÅÏö©
  - ÏùºÍ¥ÄÎêú Ïä§ÌÉÄÏùº Í∞ÄÏù¥Îìú Ï§ÄÏàò

Step 4: Playwright MCPÎ°ú Ïã§ÏãúÍ∞Ñ Í≤ÄÏ¶ù
  - Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ï¶âÏãú ÌôïÏù∏
  - Ïä§ÌÅ¨Î¶∞ÏÉ∑ Ï∫°Ï≤ò
  - Î∞òÏùëÌòï ÌÖåÏä§Ìä∏
```

### Day 2-3: Atoms & Molecules

#### 2.1 Atoms (Í∏∞Î≥∏ ÏöîÏÜå)
**Agent 1 - Status Components**:
```typescript
// components/atoms/StatusDot.tsx
interface StatusDotProps {
  status: 'rank1' | 'rank2-3' | 'out' | 'error';
  size?: 'sm' | 'md' | 'lg';
}

// Magic MCP Prompt:
// "Create a status indicator dot component with 4 colors:
//  - Green (#00D9A3) for rank 1
//  - Yellow (#FFA502) for rank 2-3
//  - Gray (#95A5A6) for out of smart block
//  - Red (#FF4757) for error
//  Use Tailwind CSS, support sm/md/lg sizes"
```

**Agent 2 - Badge Components**:
```typescript
// components/atoms/RankBadge.tsx
interface RankBadgeProps {
  rank: number | null;
  variant?: 'default' | 'compact';
}

// Magic MCP Prompt:
// "Create a rank badge component showing ranking number (1-3).
//  Rank 1: Gold gradient, Rank 2-3: Silver gradient.
//  Use shadcn/ui Badge as base."
```

**Agent 3 - Change Indicator**:
```typescript
// components/atoms/ChangeIndicator.tsx
interface ChangeIndicatorProps {
  change: number;
  showArrow?: boolean;
}

// Magic MCP Prompt:
// "Create a rank change indicator with arrow icons.
//  Positive: Green up arrow (‚Üë), Negative: Red down arrow (‚Üì).
//  Include Framer Motion for scale animation on mount."
```

#### 2.2 Molecules (Ï°∞Ìï© ÏöîÏÜå)
**Agent 4 - Stat Card**:
```typescript
// components/molecules/StatCard.tsx
interface StatCardProps {
  title: string;
  value: number | string;
  icon: LucideIcon;
  trend?: {
    value: number;
    label: string;
  };
}

// Magic MCP Prompt:
// "Create a dashboard stat card with:
//  - Icon in top-left (Lucide)
//  - Large number in center
//  - Small trend indicator below
//  - Card hover effect (shadow increase)
//  PandaRank style, use shadcn/ui Card"
```

**Agent 5 - Mini Sparkline**:
```typescript
// components/molecules/MiniSparkline.tsx
interface MiniSparklineProps {
  data: { date: Date; rank: number }[];
  width?: number;
  height?: number;
}

// Magic MCP Prompt:
// "Create a mini sparkline chart using Recharts.
//  30px height, simple line, no axes, gradient fill.
//  Green (#00D9A3) line color."
```

**Agent 6 - Keyword Card**:
```typescript
// components/molecules/KeywordCard.tsx
interface KeywordCardProps {
  keyword: string;
  rank: number | null;
  change: number;
  lastMeasured: Date;
  targetUrl: string;
  onClick?: () => void;
}

// Magic MCP Prompt:
// "Create a keyword summary card with:
//  - Keyword text (bold, large)
//  - Current rank badge
//  - Change indicator
//  - Mini sparkline chart
//  - Last measured time (relative, e.g., '5Î∂Ñ Ï†Ñ')
//  Responsive, mobile-friendly, shadcn Card base"
```

### Day 4: Organisms (Î≥µÌï© Î∏îÎ°ù)

**Agent 7 - Dashboard Stats Grid**:
```typescript
// components/organisms/DashboardStats.tsx
interface DashboardStatsProps {
  totalKeywords: number;
  rankIncreased: number;
  rankDecreased: number;
  newAlerts: number;
}

// Magic MCP Prompt:
// "Create a 4-column stats grid using StatCard.
//  Icons: TrendingUp, ArrowUp, ArrowDown, Bell.
//  Responsive: 1 col (mobile), 2 cols (tablet), 4 cols (desktop).
//  Gap-4, consistent spacing."
```

**Agent 8 - Keyword Table**:
```typescript
// components/organisms/KeywordTable.tsx
interface KeywordTableProps {
  keywords: Keyword[];
  onRowClick: (id: string) => void;
  sortBy?: 'rank' | 'change' | 'time';
  filterBy?: 'all' | 'up' | 'down' | 'stable';
}

// Magic MCP Prompt:
// "Create a keyword data table with:
//  - Columns: Status, Keyword, Rank, Change, Last Measured, Mini Chart, Actions
//  - Sortable headers (click to sort)
//  - Filter buttons above table (All, Rising, Falling, Stable)
//  - Row hover effect
//  - Pagination (10 rows per page)
//  Use shadcn/ui Table, Button, Badge components.
//  PandaRank table design."
```

**Agent 9 - Rank Trend Chart**:
```typescript
// components/organisms/RankTrendChart.tsx
interface RankTrendChartProps {
  data: Measurement[];
  timeRange?: '7d' | '30d' | '90d';
}

// Magic MCP Prompt:
// "Create a large rank trend chart using Recharts Area Chart.
//  - X-axis: Time, Y-axis: Rank (inverted, 1 at top)
//  - Green gradient fill (#00D9A3)
//  - Grid lines, tooltips
//  - Time range selector (7/30/90 days)
//  - Responsive height (300px desktop, 200px mobile)"
```

**Agent 10 - Measurement History Table**:
```typescript
// components/organisms/MeasurementHistory.tsx
interface MeasurementHistoryProps {
  measurements: Measurement[];
  pageSize?: number;
}

// Magic MCP Prompt:
// "Create a measurement history table with:
//  - Columns: Time, Smart Block Rank, Blog Tab Rank, Confidence, Duration
//  - Infinite scroll (react-virtuoso)
//  - Confidence bar (progress indicator)
//  - Time formatted (YYYY-MM-DD HH:mm)
//  shadcn Table, responsive"
```

---

## üîÑ Phase 2-C: Real-time Integration (2Ïùº)

### Day 5: Supabase Realtime

#### 3.1 Custom Hooks
**Agent 11 - useRealtime Hook**:
```typescript
// hooks/useRealtime.ts
export function useRealtime(keywordId?: string) {
  const [measurements, setMeasurements] = useState<Measurement[]>([]);

  useEffect(() => {
    const channel = supabase
      .channel('measurements')
      .on(
        'postgres_changes',
        {
          event: 'INSERT',
          schema: 'public',
          table: 'measurements',
          filter: keywordId ? `keyword_id=eq.${keywordId}` : undefined
        },
        (payload) => {
          setMeasurements(prev => [payload.new as Measurement, ...prev]);

          // ÌÜ†Ïä§Ìä∏ ÏïåÎ¶º
          toast.success(`ÏÉàÎ°úÏö¥ Ï∏°Ï†ï ÏôÑÎ£å: ${payload.new.keyword}`);
        }
      )
      .subscribe();

    return () => {
      supabase.removeChannel(channel);
    };
  }, [keywordId]);

  return measurements;
}
```

#### 3.2 State Management
**Agent 12 - Zustand Store**:
```typescript
// store/useKeywordStore.ts
interface KeywordStore {
  keywords: Keyword[];
  selectedKeyword: Keyword | null;
  filter: 'all' | 'up' | 'down' | 'stable';

  setKeywords: (keywords: Keyword[]) => void;
  selectKeyword: (id: string) => void;
  setFilter: (filter: KeywordStore['filter']) => void;

  // Real-time updates
  addMeasurement: (keywordId: string, measurement: Measurement) => void;
}

export const useKeywordStore = create<KeywordStore>((set) => ({
  keywords: [],
  selectedKeyword: null,
  filter: 'all',

  setKeywords: (keywords) => set({ keywords }),
  selectKeyword: (id) => set((state) => ({
    selectedKeyword: state.keywords.find(k => k.id === id) || null
  })),
  setFilter: (filter) => set({ filter }),

  addMeasurement: (keywordId, measurement) => set((state) => ({
    keywords: state.keywords.map(k =>
      k.id === keywordId
        ? { ...k, measurements: [measurement, ...k.measurements] }
        : k
    )
  }))
}));
```

---

## üß™ Phase 2-D: Playwright Live Debugging (ÏßÄÏÜçÏ†Å)

### Playwright MCP ÏõåÌÅ¨ÌîåÎ°úÏö∞

#### 4.1 ÏûêÎèôÌôîÎêú ÌÖåÏä§Ìä∏ ÏãúÎÇòÎ¶¨Ïò§
```typescript
// playwright.config.ts
export default defineConfig({
  testDir: './tests',
  use: {
    baseURL: 'http://localhost:3000',
    screenshot: 'only-on-failure',
    video: 'retain-on-failure'
  },
  webServer: {
    command: 'npm run dev',
    port: 3000,
    reuseExistingServer: true
  }
});

// tests/dashboard.spec.ts
test('Dashboard loads and shows stats', async ({ page }) => {
  await page.goto('/dashboard');

  // Stat cards visible
  await expect(page.locator('[data-testid="stat-total"]')).toBeVisible();

  // Table renders
  await expect(page.locator('table')).toBeVisible();

  // Screenshot for visual comparison
  await page.screenshot({ path: 'screenshots/dashboard.png', fullPage: true });
});

test('Real-time update appears in table', async ({ page }) => {
  await page.goto('/dashboard');

  // Trigger measurement (via API call or database insert)
  // ...

  // Wait for new row to appear
  await expect(page.locator('table tr').first()).toContainText('ÏÉà ÌÇ§ÏõåÎìú');

  // Verify toast notification
  await expect(page.locator('.toast')).toBeVisible();
});
```

#### 4.2 Î∞òÏùëÌòï ÌÖåÏä§Ìä∏
```typescript
// tests/responsive.spec.ts
test('Dashboard is responsive', async ({ page }) => {
  // Desktop
  await page.setViewportSize({ width: 1920, height: 1080 });
  await page.goto('/dashboard');
  await page.screenshot({ path: 'screenshots/desktop.png' });

  // Tablet
  await page.setViewportSize({ width: 768, height: 1024 });
  await page.screenshot({ path: 'screenshots/tablet.png' });

  // Mobile
  await page.setViewportSize({ width: 375, height: 667 });
  await page.screenshot({ path: 'screenshots/mobile.png' });
});
```

#### 4.3 Ïã§ÏãúÍ∞Ñ ÎîîÎ≤ÑÍπÖ Ï†àÏ∞®
```yaml
Step 1: Î∏åÎùºÏö∞Ï†Ä ÏûêÎèô Ïã§Ìñâ
  - playwright_navigate(url: "http://localhost:3000/dashboard")

Step 2: Ïä§ÌÅ¨Î¶∞ÏÉ∑ Ï∫°Ï≤ò
  - playwright_screenshot(name: "current-state", fullPage: true)

Step 3: ÏöîÏÜå Í≤ÄÏÇ¨
  - playwright_get_visible_html(selector: "table")
  - playwright_get_visible_text()

Step 4: Ïù∏ÌÑ∞ÎûôÏÖò ÌÖåÏä§Ìä∏
  - playwright_click(selector: "[data-testid='keyword-row']")
  - playwright_fill(selector: "input[name='keyword']", value: "ÌÖåÏä§Ìä∏")

Step 5: ÏΩòÏÜî Î°úÍ∑∏ ÌôïÏù∏
  - playwright_console_logs(type: "error")

Step 6: ÏàòÏ†ï ÌõÑ Ïû¨Í≤ÄÏ¶ù
  - ÏΩîÎìú ÏàòÏ†ï
  - playwright_navigate(url: "http://localhost:3000/dashboard")
  - playwright_screenshot(name: "after-fix")
```

---

## üìä Development Checklist

### Week 1: Setup & Atoms
- [ ] **Day 1 - ÌîÑÎ°úÏ†ùÌä∏ Ï¥àÍ∏∞Ìôî**
  - [ ] Next.js 14 ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±
  - [ ] shadcn/ui ÏÑ§Ïπò Î∞è ÏÑ§Ï†ï
  - [ ] ÌïÑÏàò Ìå®ÌÇ§ÏßÄ ÏÑ§Ïπò
  - [ ] Supabase ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÑ§Ï†ï
  - [ ] Tailwind ÌÖåÎßà Ïª§Ïä§ÌÑ∞ÎßàÏù¥Ïßï (ÏÉâÏÉÅ ÌåîÎ†àÌä∏)
  - [ ] Ìè¥Îçî Íµ¨Ï°∞ ÏÉùÏÑ±

- [ ] **Day 2 - Atoms Í∞úÎ∞ú (Agent 1-3 Î≥ëÎ†¨)**
  - [ ] StatusDot Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP)
  - [ ] RankBadge Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP)
  - [ ] ChangeIndicator Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP)
  - [ ] PlaywrightÎ°ú Í∞Å Ïª¥Ìè¨ÎÑåÌä∏ Ïä§ÌÅ¨Î¶∞ÏÉ∑ Í≤ÄÏ¶ù
  - [ ] Storybook ÌéòÏù¥ÏßÄ ÏÉùÏÑ± (ÏÑ†ÌÉùÏÇ¨Ìï≠)

### Week 2: Molecules & Organisms
- [ ] **Day 3 - Molecules Í∞úÎ∞ú (Agent 4-6 Î≥ëÎ†¨)**
  - [ ] StatCard Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP)
  - [ ] MiniSparkline Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP + Recharts)
  - [ ] KeywordCard Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP)
  - [ ] Î∞òÏùëÌòï ÌÖåÏä§Ìä∏ (Playwright MCP)

- [ ] **Day 4 - Organisms Í∞úÎ∞ú (Agent 7-10 Î≥ëÎ†¨)**
  - [ ] DashboardStats Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP)
  - [ ] KeywordTable Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP + shadcn Table)
  - [ ] RankTrendChart Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP + Recharts)
  - [ ] MeasurementHistory Ïª¥Ìè¨ÎÑåÌä∏ (Magic MCP + react-virtuoso)
  - [ ] E2E ÌÖåÏä§Ìä∏ ÏûëÏÑ± (Playwright)

### Week 3: Pages & Real-time
- [ ] **Day 5 - ÌéòÏù¥ÏßÄ Íµ¨ÏÑ±**
  - [ ] Dashboard Î†àÏù¥ÏïÑÏõÉ (App Router)
  - [ ] Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú ÌéòÏù¥ÏßÄ (Ï°∞Ìï©)
  - [ ] ÌÇ§ÏõåÎìú ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ (Ï°∞Ìï©)
  - [ ] API Routes ÏÉùÏÑ± (ÌîÑÎ°ùÏãú)
  - [ ] 404/Error ÌéòÏù¥ÏßÄ

- [ ] **Day 6 - Real-time ÌÜµÌï©**
  - [ ] useRealtime ÌõÖ Íµ¨ÌòÑ
  - [ ] useKeywords ÌõÖ Íµ¨ÌòÑ
  - [ ] Zustand Ïä§ÌÜ†Ïñ¥ ÏÑ§Ï†ï
  - [ ] Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ ÌÖåÏä§Ìä∏
  - [ ] ÌÜ†Ïä§Ìä∏ ÏïåÎ¶º ÌÜµÌï©

- [ ] **Day 7 - ÌÜµÌï© ÌÖåÏä§Ìä∏ & ÎîîÎ≤ÑÍπÖ**
  - [ ] Ï†ÑÏ≤¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞ E2E ÌÖåÏä§Ìä∏
  - [ ] Playwright ÏãúÎÇòÎ¶¨Ïò§ Ïã§Ìñâ
  - [ ] ÏÑ±Îä• Ï∏°Ï†ï (Lighthouse)
  - [ ] Î∞òÏùëÌòï ÌÖåÏä§Ìä∏ (3 breakpoints)
  - [ ] Î≤ÑÍ∑∏ ÏàòÏ†ï Î∞è ÏµúÏ†ÅÌôî

---

## üöÄ Parallel Agent Strategy

### Agent Î∂ÑÎ∞∞ Ï†ÑÎûµ
```yaml
Phase 1: Atoms (3 agents Î≥ëÎ†¨)
  Agent 1: StatusDot + RankBadge
  Agent 2: ChangeIndicator + Button variations
  Agent 3: Skeleton + Loading states

Phase 2: Molecules (4 agents Î≥ëÎ†¨)
  Agent 4: StatCard + variants
  Agent 5: MiniSparkline + chart configs
  Agent 6: KeywordCard + responsive
  Agent 7: AlertConfigPanel + forms

Phase 3: Organisms (4 agents Î≥ëÎ†¨)
  Agent 8: DashboardStats + grid layout
  Agent 9: KeywordTable + sorting/filtering
  Agent 10: RankTrendChart + time range
  Agent 11: MeasurementHistory + virtualization

Phase 4: Pages (3 agents Î≥ëÎ†¨)
  Agent 12: Dashboard page + SSR
  Agent 13: Keyword detail page + SSR
  Agent 14: API routes + middleware

Phase 5: Integration (2 agents Î≥ëÎ†¨)
  Agent 15: Real-time hooks + store
  Agent 16: Playwright tests + debugging
```

### Î≥ëÎ†¨ ÏûëÏóÖ Ï°∞Ï†ï
```typescript
// Í∞Å AgentÎäî ÎèÖÎ¶ΩÏ†ÅÏù∏ ÌååÏùºÏóêÏÑú ÏûëÏóÖ
// Git branchÎ°ú Ï∂©Îèå Î∞©ÏßÄ

Agent 1 ‚Üí components/atoms/StatusDot.tsx
Agent 2 ‚Üí components/atoms/RankBadge.tsx
Agent 3 ‚Üí components/atoms/ChangeIndicator.tsx

// ÏôÑÎ£å ÌõÑ main branchÎ°ú merge
// Playwright MCPÎ°ú ÌÜµÌï© Í≤ÄÏ¶ù
```

---

## üé® Magic MCP Usage Examples

### Example 1: StatCard ÏÉùÏÑ±
```
User: "I need a dashboard stat card component using Magic MCP"

Magic MCP Response:
/21 Create a stat card component with:
- Icon in top-left corner (Lucide React icon)
- Large number display in center
- Small trend indicator below (percentage change)
- Card hover effect (shadow increase, subtle scale)
- PandaRank style (modern, clean)
- Use shadcn/ui Card as base
- TypeScript with proper interfaces
- Responsive design (mobile-friendly)
```

### Example 2: KeywordTable ÏÉùÏÑ±
```
User: "Generate a keyword data table with sorting and filtering"

Magic MCP Response:
/21 Create a keyword table component:
- Columns: Status, Keyword, Rank, Change, Last Measured, Actions
- Sortable headers (ASC/DESC toggle)
- Filter tabs: All, Rising, Falling, Stable
- Row hover effect
- Pagination (10 rows per page)
- Mini sparkline chart in each row
- Use shadcn/ui Table, Button, Badge
- TypeScript interfaces for all props
- PandaRank table design (modern, data-dense)
```

### Example 3: RankTrendChart ÏÉùÏÑ±
```
User: "Create a rank trend chart using Recharts"

Magic MCP Response:
/21 Create an area chart component:
- X-axis: Time (formatted dates)
- Y-axis: Rank (inverted, 1 at top, 10 at bottom)
- Green gradient fill (#00D9A3 to transparent)
- Animated line drawing on mount
- Tooltips showing exact rank + time
- Time range selector buttons (7d, 30d, 90d)
- Responsive height (300px desktop, 200px mobile)
- Use Recharts AreaChart
- Framer Motion for animations
- PandaRank chart style
```

---

## üéØ Color Palette (PandaRank Theme)

### Primary Colors
```css
--primary-green: #00D9A3;      /* Rank increase, success */
--danger-red: #FF4757;         /* Rank decrease, error */
--warning-orange: #FFA502;     /* Alert, caution */
--info-blue: #5352ED;          /* Information */
--neutral-gray: #95A5A6;       /* Out of smart block */
```

### Background Colors
```css
--bg-primary: #FFFFFF;         /* Card backgrounds */
--bg-secondary: #F8F9FA;       /* Page background */
--bg-dark: #2C3E50;            /* Dark mode (optional) */
```

### Text Colors
```css
--text-primary: #2D3436;       /* Main text */
--text-secondary: #636E72;     /* Secondary text */
--text-muted: #B2BEC3;         /* Muted text */
```

### Gradient Examples
```css
/* Rank 1 Badge */
background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);

/* Rank 2-3 Badge */
background: linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%);

/* Chart Gradient */
background: linear-gradient(180deg, rgba(0, 217, 163, 0.3) 0%, rgba(0, 217, 163, 0) 100%);
```

---

## üì± Responsive Breakpoints

### Tailwind Config
```typescript
// tailwind.config.ts
export default {
  theme: {
    screens: {
      'xs': '375px',    // Mobile (iPhone SE)
      'sm': '640px',    // Mobile landscape
      'md': '768px',    // Tablet
      'lg': '1024px',   // Desktop
      'xl': '1280px',   // Large desktop
      '2xl': '1536px'   // Extra large
    }
  }
}
```

### Component Responsive Rules
```typescript
// 1. Stats Grid
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">

// 2. Table
<div className="overflow-x-auto"> {/* Mobile scroll */}
  <table className="min-w-[800px]"> {/* Min width for readability */}

// 3. Chart
<div className="h-[200px] md:h-[300px]"> {/* Smaller on mobile */}

// 4. Typography
<h1 className="text-2xl md:text-4xl"> {/* Responsive font */}
```

---

## üîî Real-time Features

### 1. WebSocket Updates
```typescript
// Instant rank update notification
const channel = supabase
  .channel('measurements')
  .on('postgres_changes', {
    event: 'INSERT',
    schema: 'public',
    table: 'measurements'
  }, (payload) => {
    // Update UI immediately
    updateKeywordRank(payload.new);

    // Show toast
    toast.success(`${payload.new.keyword} ÏàúÏúÑ ÏóÖÎç∞Ïù¥Ìä∏!`);
  })
  .subscribe();
```

### 2. Optimistic UI Updates
```typescript
// Update UI before server confirmation
async function addKeyword(keyword: string) {
  // 1. Update UI optimistically
  const tempId = `temp-${Date.now()}`;
  addKeywordToStore({ id: tempId, keyword, rank: null });

  // 2. Send to server
  const { data, error } = await supabase
    .from('keywords')
    .insert({ keyword });

  // 3. Replace temp with real data
  if (data) {
    replaceKeywordInStore(tempId, data);
  } else {
    removeKeywordFromStore(tempId);
    toast.error('ÌÇ§ÏõåÎìú Ï∂îÍ∞Ä Ïã§Ìå®');
  }
}
```

### 3. Live Status Indicators
```typescript
// Show "Ï∏°Ï†ï Ï§ë..." status in real-time
const [isLoading, setIsLoading] = useState<Set<string>>(new Set());

useEffect(() => {
  const channel = supabase
    .channel('measurement-status')
    .on('presence', { event: 'sync' }, () => {
      const state = channel.presenceState();
      setIsLoading(new Set(Object.keys(state)));
    })
    .subscribe();
}, []);

// Usage
{isLoading.has(keywordId) ? (
  <Skeleton className="h-4 w-12" />
) : (
  <RankBadge rank={rank} />
)}
```

---

## üö¶ Performance Targets

### Core Web Vitals
```yaml
Largest Contentful Paint (LCP): < 2.5s
First Input Delay (FID): < 100ms
Cumulative Layout Shift (CLS): < 0.1
Time to Interactive (TTI): < 3.5s
```

### Optimization Strategies
```typescript
// 1. Image Optimization
import Image from 'next.image';
<Image src="/logo.png" width={120} height={40} alt="Logo" />

// 2. Code Splitting
const RankTrendChart = dynamic(() => import('@/components/organisms/RankTrendChart'), {
  loading: () => <Skeleton className="h-[300px]" />
});

// 3. Server Components (default in App Router)
// app/dashboard/page.tsx (Server Component)
async function DashboardPage() {
  const keywords = await fetchKeywords(); // Server-side fetch
  return <DashboardClient keywords={keywords} />;
}

// 4. React Memo for expensive components
const KeywordTable = memo(({ keywords }) => {
  // Only re-render when keywords change
});
```

---

## üîí Security Best Practices

### 1. Supabase Row Level Security (RLS)
```sql
-- Already configured in backend
-- Frontend only sees user's own data
SELECT * FROM keywords; -- Automatically filtered by user_id
```

### 2. Environment Variables
```bash
# .env.local (Never commit!)
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
```

### 3. Input Validation (Zod)
```typescript
import { z } from 'zod';

const KeywordSchema = z.object({
  keyword: z.string().min(2).max(100),
  target_url: z.string().url()
});

function AddKeywordForm() {
  const form = useForm({
    resolver: zodResolver(KeywordSchema)
  });
}
```

---

## üì¶ Deployment Strategy

### Vercel (Frontend)
```bash
# 1. Install Vercel CLI
npm i -g vercel

# 2. Login
vercel login

# 3. Deploy
vercel --prod

# 4. Environment Variables
vercel env add NEXT_PUBLIC_SUPABASE_URL
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY
```

### Environment Configuration
```javascript
// next.config.js
module.exports = {
  env: {
    NEXT_PUBLIC_APP_URL: process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'
  }
}
```

---

## üß™ Testing Strategy

### Unit Tests (Vitest)
```typescript
// components/__tests__/StatusDot.test.tsx
import { render, screen } from '@testing-library/react';
import { StatusDot } from '../atoms/StatusDot';

test('renders green dot for rank 1', () => {
  render(<StatusDot status="rank1" />);
  const dot = screen.getByTestId('status-dot');
  expect(dot).toHaveClass('bg-green-500');
});
```

### E2E Tests (Playwright)
```typescript
// tests/e2e/dashboard.spec.ts
test('User can add and track keyword', async ({ page }) => {
  await page.goto('/dashboard');

  // Click add button
  await page.click('[data-testid="add-keyword-btn"]');

  // Fill form
  await page.fill('input[name="keyword"]', 'ÎÑ§Ïù¥Î≤Ñ Î∏îÎ°úÍ∑∏');
  await page.fill('input[name="target_url"]', 'https://blog.naver.com/example');

  // Submit
  await page.click('[data-testid="submit-btn"]');

  // Verify keyword appears in table
  await expect(page.locator('table')).toContainText('ÎÑ§Ïù¥Î≤Ñ Î∏îÎ°úÍ∑∏');
});
```

---

## üìö Documentation

### Component Documentation
```typescript
/**
 * StatCard Component
 *
 * @description Dashboard statistic card with icon and trend
 * @example
 * <StatCard
 *   title="Total Keywords"
 *   value={42}
 *   icon={TrendingUp}
 *   trend={{ value: 12, label: 'vs last week' }}
 * />
 */
export function StatCard({ title, value, icon: Icon, trend }: StatCardProps) {
  // ...
}
```

### API Documentation
```typescript
/**
 * Fetch keywords with latest measurements
 *
 * @route GET /api/keywords
 * @query limit - Number of keywords to fetch (default: 50)
 * @query sort - Sort field (rank, change, time)
 * @returns Array of keywords with measurements
 */
export async function GET(request: Request) {
  // ...
}
```

---

## ‚úÖ Definition of Done

### Component Completion Checklist
- [ ] TypeScript interfaces defined
- [ ] Component renders correctly
- [ ] Responsive on all breakpoints
- [ ] Playwright screenshot captured
- [ ] Props documented with JSDoc
- [ ] Unit tests written (if logic exists)
- [ ] Accessibility verified (keyboard nav, ARIA)
- [ ] Dark mode compatible (optional)
- [ ] Performance optimized (memo, lazy load)

### Page Completion Checklist
- [ ] SSR/SSG configured
- [ ] SEO meta tags added
- [ ] Loading states implemented
- [ ] Error states implemented
- [ ] Real-time updates working
- [ ] E2E test written
- [ ] Lighthouse score > 90
- [ ] Mobile responsive verified

---

## üéì Learning Resources

### Next.js 14 App Router
- https://nextjs.org/docs/app
- https://nextjs.org/docs/app/building-your-application/routing

### shadcn/ui
- https://ui.shadcn.com/docs
- https://ui.shadcn.com/docs/components

### Recharts
- https://recharts.org/en-US/api
- https://recharts.org/en-US/examples

### Playwright
- https://playwright.dev/docs/intro
- https://playwright.dev/docs/test-components

### Supabase Realtime
- https://supabase.com/docs/guides/realtime
- https://supabase.com/docs/reference/javascript/subscribe

---

## üìû Support & Escalation

### Issue Tracking
```yaml
Critical (P0): Real-time updates not working, app crash
  ‚Üí Slack #dev-alerts, escalate to Team Lead

High (P1): UI broken on mobile, performance regression
  ‚Üí GitHub Issues, fix within 24h

Medium (P2): Visual inconsistency, minor UX issue
  ‚Üí GitHub Issues, fix within 3 days

Low (P3): Nice-to-have feature, optimization
  ‚Üí Backlog, prioritize in sprint planning
```

---

## üèÅ Next Steps

### Immediate Actions
1. ‚úÖ FRONTEND_STRATEGY.md Î¨∏ÏÑú ÏôÑÏÑ±
2. ‚è≥ Next.js ÌîÑÎ°úÏ†ùÌä∏ Ï¥àÍ∏∞Ìôî
3. ‚è≥ shadcn/ui ÏÑ§Ïπò Î∞è ÏÑ§Ï†ï
4. ‚è≥ Supabase ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ïó∞Í≤∞
5. ‚è≥ Atom Ïª¥Ìè¨ÎÑåÌä∏ 3Í∞ú Î≥ëÎ†¨ ÏÉùÏÑ± (Magic MCP)

### Week 1 Goal
- Next.js ÌîÑÎ°úÏ†ùÌä∏ ÏôÑÏ†Ñ ÏÑ§Ï†ï
- Atom Ïª¥Ìè¨ÎÑåÌä∏ 9Í∞ú ÏôÑÏÑ±
- Playwright ÏûêÎèô ÌÖåÏä§Ìä∏ ÌôòÍ≤Ω Íµ¨Ï∂ï

### Week 2 Goal
- Molecule Ïª¥Ìè¨ÎÑåÌä∏ 6Í∞ú ÏôÑÏÑ±
- Organism Ïª¥Ìè¨ÎÑåÌä∏ 4Í∞ú ÏôÑÏÑ±
- Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú ÌéòÏù¥ÏßÄ Ï°∞Î¶Ω

### Week 3 Goal
- Real-time Í∏∞Îä• ÏôÑÏ†Ñ ÌÜµÌï©
- E2E ÌÖåÏä§Ìä∏ Ï†ÑÏ≤¥ ÌÜµÍ≥º
- Vercel ÌîÑÎ°úÎçïÏÖò Î∞∞Ìè¨ ÏôÑÎ£å

---

**Î¨∏ÏÑú Î≤ÑÏ†Ñ**: 1.0
**ÏµúÏ¢Ö ÏàòÏ†ïÏùº**: 2025-01-03
**ÏûëÏÑ±Ïûê**: Claude Code + Magic MCP + Playwright MCP
**ÏÉÅÌÉú**: ‚úÖ ÏôÑÎ£å (Ready for Implementation)
